<?php if (!defined('BASEPATH')) exit('No direct script access allowed');include_once(APPPATH . 'models/Base_model.php');class Problem_detail_model extends Base_model {	public function __construct() {		parent::__construct();		$this->load->model('tag_model');		$this->load->model('user_model');		$this->table_name = 'problem_detail';	}	public function get_detail($id){		$index = 0;		$detail = $this->db->get_where($this->table_name,array("problem_id" => $id))->result_array();		foreach ($detail as $key => $value) {			@$detail[$index]['user'] = $this->user_model->get_user_data($detail[$index]['owner_id']);			$index ++;		}		return $detail;	}	public function delete_all($id){		$this->db->delete($this->table_name,array("owner_id" => $id));		return true;	}	public function search($str, $count) {		return $this->db->link('content', $str)->order_by('id', 'DESC')->limit($count)->get($this->table_name)->result_array();	}}